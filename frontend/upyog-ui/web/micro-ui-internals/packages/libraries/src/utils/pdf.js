import { Fonts } from "./fonts";
const pdfMake = require("pdfmake/build/pdfmake.js");
// const pdfFonts = require("pdfmake/build/vfs_fonts.js");
// pdfMake.vfs = pdfFonts.pdfMake.vfs;

let pdfFonts = {
  //   Roboto: {
  //     normal: "https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.66/fonts/Roboto/Roboto-Regular.ttf",
  //     bold: "https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.66/fonts/Roboto/Roboto-Medium.ttf"
  //   },
  Hind: {
    normal: "Hind-Regular.ttf",
    bold: "Hind-Bold.ttf",
  },
  en_IN: {
    normal: "Hind-Regular.ttf",
    bold: "Hind-Bold.ttf",
  },
  pn_IN: {
    normal: "BalooPaaji2-Regular.ttf",
    bold: "BalooPaaji2-Bold.ttf",
  },
  od_IN: {
    normal: "BalooBhaina2-Regular.ttf",
    bold: "BalooBhaina2-Bold.ttf",
  },
  hi_IN: {
    normal: "Hind-Regular.ttf",
    bold: "Hind-Bold.ttf",
  },
};
pdfMake.vfs = Fonts;

pdfMake.fonts = pdfFonts;

const downloadPDFFileUsingBase64 = (receiptPDF, filename) => {
  if (
    window &&
    window.mSewaApp &&
    window.mSewaApp.isMsewaApp &&
    window.mSewaApp.isMsewaApp() &&
    window.mSewaApp.downloadBase64File &&
    window.Digit.Utils.browser.isMobile()
  ) {
    // we are running under webview
    receiptPDF.getBase64((data) => {
      window.mSewaApp.downloadBase64File(data, filename);
    });
  } else {
    // we are running in browser
    receiptPDF.download(filename);
  }
};

function getBase64Image(tenantId) {
  try {
    const img = document.getElementById(`logo-${tenantId}`);
    var canvas = document.createElement("canvas");
    canvas.width = img.width;
    canvas.height = img.height;
    var ctx = canvas.getContext("2d");
    ctx.drawImage(img, 0, 0);
    return canvas.toDataURL("image/png");
  } catch (e) {
    return "";
  }
}

const defaultLogo =
  "data:image/png;base64,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"
const jsPdfGenerator = async ({ breakPageLimit = null, tenantId, logo, name, email, phoneNumber, heading, details, t = (text) => text }) => {

  const emailLeftMargin =
    email.length <= 15
      ? 190
      : email.length <= 20
      ? 150
      : email.length <= 25
      ? 130
      : email.length <= 30
      ? 90
      : email.length <= 35
      ? 50
      : email.length <= 40
      ? 10
      : email.length <= 45
      ? 0
      : email.length <= 50
      ? -20
      : email.length <= 55
      ? -70
      : email.length <= 60
      ? -100
      : -60;

  const dd = {
    pageMargins: [40, 80, 40, 30],
    header: {
      columns: [
        {
          image: logo || getBase64Image(tenantId) || defaultLogo,
          width: 50,
          margin: [10, 10],
        },
        {
          text: name,
          margin: [20, 25],
          font: "Hind",
          fontSize: 14,
          // bold: true,
        },
        {
          text: email,
          margin: [emailLeftMargin, 25, 0, 25],
          font: "Hind",
          fontSize: 11,
          color: "#464747",
        },
        {
          text: phoneNumber,
          color: "#6f777c",
          font: "Hind",
          fontSize: 11,
          margin: [-65, 45, 0, 25],
        },
      ],
    },

    footer: function (currentPage, pageCount) {
      return {
        columns: [
          { text: `${name} / ${heading}`, margin: [15, 0, 0, 0], fontSize: 11, color: "#6f777c", width: 400, font: "Hind" },
          { text: `Page ${currentPage}`, alignment: "right", margin: [0, 0, 25, 0], fontSize: 11, color: "#6f777c", font: "Hind" },
        ],
      };
    },
    content: [
      {
        text: heading,
        font: "Hind",
        fontSize: 24,
        // bold: true,
        margin: [-25, 5, 0, 0],
      },
      ...createContent(details, phoneNumber, breakPageLimit),
      {
        text: t("PDF_SYSTEM_GENERATED_ACKNOWLEDGEMENT"),
        font: "Hind",
        fontSize: 11,
        color: "#6f777c",
        margin: [-25, 32],
      },
    ],
    defaultStyle: {
      font: "Hind",
    },
  };
  pdfMake.vfs = Fonts;
  let locale = Digit.SessionStorage.get("locale") || "en_IN";
  let Hind = pdfFonts[locale] || pdfFonts["Hind"];
  pdfMake.fonts = { Hind: { ...Hind } };
  const generatedPDF = pdfMake.createPdf(dd);
  downloadPDFFileUsingBase64(generatedPDF, "acknowledgement.pdf");
};


/**
 * Util function that can be used
 * to download WS connection acknowledgement pdfs
 * Data is passed to this function from this file
 * packages\modules\ws\src\utils\getWSAcknowledgementData.js
 * @author nipunarora-egov
 *
 * @example
 * Digit.Utils.pdf.generatev1()
 *
 * @returns Downloads a pdf  
 */
const jsPdfGeneratorv1 = async ({ breakPageLimit = null, tenantId, logo, name, email, phoneNumber, heading, details, headerDetails, t = (text) => text }) => {
  const emailLeftMargin =
    email.length <= 15
      ? 190
      : email.length <= 20
        ? 150
        : email.length <= 25
          ? 130
          : email.length <= 30
            ? 90
            : email.length <= 35
              ? 50
              : email.length <= 40
                ? 10
                : email.length <= 45
                  ? 0
                  : email.length <= 50
                    ? -20
                    : email.length <= 55
                      ? -70
                      : email.length <= 60
                        ? -100
                        : -60;

  const dd = {
    pageMargins: [40, 40, 40, 30],
    header: {},
    footer: function (currentPage, pageCount) {
      return {
        columns: [
          { text: `${name} / ${heading}`, margin: [15, 0, 0, 0], fontSize: 11, color: "#6f777c", width: 400, font: "Hind" },
          { text: `Page ${currentPage}`, alignment: "right", margin: [0, 0, 25, 0], fontSize: 11, color: "#6f777c", font: "Hind" },
        ],
      };
    },
    content: [
      ...createHeader(headerDetails,logo,tenantId),
      // {
      //   text: heading,
      //   font: "Hind",
      //   fontSize: 24,
      //   bold: true,
      //   margin: [-25, 5, 0, 0],
      // },
      ...createContentDetails(details),
      {
        text: t("PDF_SYSTEM_GENERATED_ACKNOWLEDGEMENT"),
        font: "Hind",
        fontSize: 11,
        color: "#6f777c",
        margin: [-25, 32],
      },
    ],
    defaultStyle: {
      font: "Hind",
    },
  };
  
  pdfMake.vfs = Fonts;
  let locale = Digit.SessionStorage.get("locale") || "en_IN";
  let Hind = pdfFonts[locale] || pdfFonts["Hind"];
  pdfMake.fonts = { Hind: { ...Hind } };
  const generatedPDF = pdfMake.createPdf(dd);
  downloadPDFFileUsingBase64(generatedPDF, "acknowledgement.pdf");
};

/**
 * Util function that can be used
 * to download WS modify connection application acknowledgement pdfs
 * Data is passed to this function from this file
 * packages\modules\ws\src\utils\getWsAckDataForModifyPdfs.js
 * @author nipunarora-egov
 *
 * @example
 * Digit.Utils.pdf.generateModifyPdf()
 *
 * @returns Downloads a pdf  
 */

const jsPdfGeneratorForModifyPDF = async({tenantId,bodyDetails,headerDetails,logo}) =>{
  //here follow an approch to render specific table for every object in bodyDetails
  //keep the header logic same for now
  //we are expecting the bodyDetails to be array of objects where each obj will be a table 
  //format of each obj {title:[array of str],values:[array of obj]}
  
  const dd = {
    pageMargins: [40, 40, 40, 30],
    header: {},
    defaultStyle: {
      font: "Hind",
    },
    content:[
      ...createHeader(headerDetails, logo, tenantId),
      ...createBodyContent(bodyDetails)
    ]
  
  }

  pdfMake.vfs = Fonts;
  let locale = Digit.SessionStorage.get("locale") || "en_IN";
  let Hind = pdfFonts[locale] || pdfFonts["Hind"];
  pdfMake.fonts = { Hind: { ...Hind } };
  const generatedPDF = pdfMake.createPdf(dd);
  downloadPDFFileUsingBase64(generatedPDF, "acknowledgement.pdf");
}

/**
 * Util function that can be used
 * to download bill amendment application acknowledgement pdfs
 * Data is passed to this function from this file
 * packages\modules\ws\src\utils\getWsAckDataForBillAmendPdf.js
 * @author nipunarora-egov
 *
 * @example
 * Digit.Utils.pdf.generateBillAmendPDF()
 *
 * @returns Downloads a pdf  
 */


const generateBillAmendPDF = async ({ tenantId, bodyDetails, headerDetails, logo,t }) => {
  const dd = {
    pageMargins: [40, 40, 40, 30],
    header: {},
    defaultStyle: {
      font: "Hind",
    },
    content: [
      ...createHeaderBillAmend(headerDetails, logo, tenantId,t),
      ...createBodyContentBillAmend(bodyDetails,t)
    ]

  }
  

  pdfMake.vfs = Fonts;
  let locale = Digit.SessionStorage.get("locale") || "en_IN";
  let Hind = pdfFonts[locale] || pdfFonts["Hind"];
  pdfMake.fonts = { Hind: { ...Hind } };
  const generatedPDF = pdfMake.createPdf(dd);
  downloadPDFFileUsingBase64(generatedPDF, "acknowledgement.pdf");
}

export default { generate: jsPdfGenerator, generatev1: jsPdfGeneratorv1, generateModifyPdf: jsPdfGeneratorForModifyPDF, generateBillAmendPDF };

const createBodyContentBillAmend = (table,t) => {
  let bodyData = []
  bodyData.push({
    text: t(table?.title),
    color: "#000000",
    style: "header",
    fontSize: 14,
    bold: true,
    margin: [0, 15, 0, 10]
  })
  bodyData.push({
    layout:{
      color:function(rowIndex,node,columnIndex){
        if(rowIndex === (table?.tableRows?.length)) {
          return "#FFFFFF"
        }
      },
      fillColor:function(rowIndex,node,columnIndex){
        if(rowIndex === (table?.tableRows?.length)) {
          return "#a82227"
        }
        return (rowIndex % 2 === 0) ? "#a82227" : null; 
      },
      fillOpacity:function(rowIndex,node,columnIndex) {
        if (rowIndex === (table?.tableRows?.length)) {
          return 1;
        }
        return (rowIndex % 2 === 0) ? 0.15 : 1;
      }
    },
    table:{
      headerRows:1,
      widths: ["*", "*", "*", "*"],
      body:[
        table?.headers?.map(header =>{
          return {
            text:t(header),
            style:"header",
            fontSize:11,
            bold:true,
            border: [false, false, false, false]
          }
        }),
        ...table?.tableRows?.map(row => {
          return [
            {
              text:t(row?.[0]),
              style:"header",
              fontSize:11,
              border: [false, false, false, false]
            },
            {
              text: t(row?.[1]),
              style: "header",
              fontSize: 11,
              border: [false, false, false, false]
            },
            {
              text: t(row?.[2]),
              style: "header",
              fontSize: 11,
              border: [false, false, false, false]
            },
            {
              text: t(row?.[3]),
              style: "header",
              fontSize: 11,
              border: [false, false, false, false]
            }
          ]
        })
      ]
    }
  })
  return bodyData
}

const createHeaderBillAmend = (headerDetails, logo, tenantId,t) => {
  
  let headerData = [];
  headerData.push({
    style: 'tableExample',
    layout: "noBorders",
    fillColor: "#f7e0d4",
    margin: [-40, -40, -40, 40],
    table: {
      widths: ['5%', 'auto', '*'],
      body: [
        [
            {
            image: logo || getBase64Image(tenantId) || defaultLogo,
            // width: 50,
            margin: [10, 10],
            fit: [50, 50],
            //width: 50,
            //margin: [10, 10]
          },
          {
            text: headerDetails?.header, //"Amritsar Municipal Corporation",
            margin: [40, 10, 2, 4],
            style: "header",
            // italics: true, 
            fontSize: 18,
            bold: true
          },
          {
            text: headerDetails?.typeOfApplication, //"New Sewerage Connection",
            bold: true,
            fontSize: 16,
            alignment: "right",
            margin: [-40, 10, 2, 0],
            color: "#a82227"
          }
        ],
        [
          { text: "" },
          {
            text: headerDetails?.subHeader, //"Municipal Corporation Amritsar, Town Hall, Amritsar, Punjab.",
            margin: [40, -45, -2, -5],
            style: "header",
            // italics: true, 
            fontSize: 10,
            bold: false
          },

          {
            text: headerDetails?.date, //"28/03/2022",
            bold: true,
            fontSize: 16,
            margin: [0, -45, 10, 0],
            alignment: "right",
            color: "#a82227"
          }
        ],
        [
          { text: "" },

          {
            text: headerDetails?.description, //"0183-2545155 | www.amritsarcorp.com | cmcasr@gmail.com",
            margin: [40, -40, 2, 10],
            style: "header",
            // italics: true, 
            fontSize: 10,
            bold: false
          },
          {
            text: "",
          }
        ]
      ]
    }
  });
  headerDetails?.values?.forEach((header, index) => {
    headerData.push({
      style: 'tableExample',
      layout: "noBorders",
      fillColor: "#f7e0d4",
      margin: [-40, -40, -40, 20],
      table: {
        widths: ['30%', '*'],
        body: [
          [
            {
              text: header?.title,
              margin: index == 0 ? [40, 0, 2, 10] : [40, 10, 2, 10],
              style: "header",
              fontSize: 10,
              bold: true
            },
            {
              text: header?.value,
              bold: false,
              fontSize: 10,
              alignment: "left",
              margin: index == 0 ? [0, 0, 2, 10] : [0, 10, 2, 10],
            }
          ]
        ]
      }
    })
  })
  //push demand revision details old way

  headerData.push({
    style: 'tableExample',
    layout: "noBorders",
    fillColor: "#f7e0d4",
    margin: [-40, -25, -1000000, 20],
    table: {
      widths: ['30%', '*'],
      body: [
        [
          {
            text: headerDetails?.DemandRevision?.title,
            margin: [40, 0, 2, 20],
            style: "header",
            fontSize: 13,
            bold: true
          }
        ]
      ]
    }
  })

  headerDetails?.DemandRevision?.values?.forEach((header, index) => {
    headerData.push({
      style: 'tableExample',
      layout: "noBorders",
      fillColor: "#f7e0d4",
      margin: [-40, -40, -40, 20],
      table: {
        widths: ['30%', '*'],
        body: [
          [
            {
              text: header?.title,
              margin: index == 0 ? [40, 0, 2, 10] : [40, 10, 2, 10],
              style: "header",
              fontSize: 10,
              bold: true
            },
            {
              text: header?.value,
              bold: false,
              fontSize: 10,
              alignment: "left",
              margin: index == 0 ? [0, 0, 2, 10] : [0, 10, 2, 10],
            }
          ]
        ]
      }
    })
  })

 //attachment details
  headerData.push({
    style: 'tableExample',
    layout: "noBorders",
    fillColor: "#f7e0d4",
    margin: [-40, -25, -1000000, 20],
    table: {
      widths: ['30%', '*'],
      body: [
        [
          {
            text: headerDetails?.Attachments?.title,
            margin: [40, 0, 2, 110],
            style: "header",
            fontSize: 13,
            bold: true
          }
        ]
      ]
    }
  })
  
  headerData.push({
    layout: "noBorders",
    ul: headerDetails?.Attachments?.values,
    margin:[0,-130,0,40]
   })

  return headerData;
}

const createBodyContent = (details) => {
  let detailsHeaders = []
  details.map((table,index) =>{
    if (table?.isAttachments && table.values) {
      detailsHeaders.push({
        style: 'tableExample',
        layout: "noBorders",
        margin: [0, 13, 0, 5],
        table: {
          body: [
            [
              {
                text: table?.title,
                color: "#000000",
                style: "header",
                fontSize: 14,
                bold: true
              }
            ]
          ]
        }
      })
      detailsHeaders.push({
        layout:'noBorders',
        ul: table?.values
      })
      return
    }
    detailsHeaders.push({
      layout:'noBorders',
      table:{
        headerRows:1,
        widths:["*","*","*"],
        body:[
          table?.title?.map(t=>{ 
            return {
            text:t,
            color: "#a82227",
            style: "header",
            fontSize: 14,
            bold: true,
            margin:[0,15,0,0]
            }
          }),
          ...table?.values?.map((value,index) => {
            return [
              {
                text:value?.val1,
                style: "header",
                fontSize: 10,
                bold: true
              },
              {
                text: value?.val2,
                fontSize: 10
              },
              {
                text: value?.val3,
                fontSize: 10
              }
            ]
          })
        ]
      }
    })
  })

  return detailsHeaders
}

function createContentDetails(details) {
  let detailsHeaders = [];
  details.forEach((detail, index) => {
    if (detail?.title) {
      detailsHeaders.push({
        style: 'tableExample',
        layout: "noBorders",
        margin:[0,13,0,5],
        table: {
          body: [
            [
              {
                text: detail?.title,
                color: "#a82227",
                style: "header",
                fontSize: 14,
                bold: true
              }
            ]
          ]
        }
      })
    }
    if (detail?.isAttachments && detail.values) {
      detailsHeaders.push({
        ul: detail?.values
      })
    } else {
      detail?.values?.forEach(indData => {
        detailsHeaders.push({
          style: 'tableExample',
          layout: "noBorders",
          table: {
            widths: ['40%', '*'],
            body: [
              [
                {
                  text: indData?.title,
                  style: "header",
                  fontSize: 10,
                  bold: true
                },

                {
                  text: indData?.value,
                  fontSize: 10
                }
              ]
            ]
          }
        })
      })
    }
  });
  return detailsHeaders;
}

function createHeader(headerDetails,logo,tenantId) {
  let headerData = [];
  headerData.push({
    style: 'tableExample',
    layout: "noBorders",
    fillColor: "#f7e0d4",
    "margin": [-40, -40, -40, 40],
    table: {
      widths: ['5%', 'auto', '*'],
      body: [
        [
          // {
          //   margin: [40, 10, 2, 2],
          //   "image": "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAABBtJREFUWAntV11oVEcUnjN3mzXm111toQ8lWOtLTbIG0YgpMdQ05CEv0iTU1hhR7EMRWYuKSkteVExJBRGkpaUk0ChRSYtpKam4sbE0ia7RSNaS0uIfWtT4E8Xs5u7O8Vy7c3f27t2fh4W+ZF7OmfN9c86Ze2bOvZex/3mAGv/RIU9xJCL2IWIdAS7C/Nyhtbm8l39XeVKfOrLcHZoOHmCA7zJkC6VdSmAQRoYBAHbCXZBzED726xKT0kwgGnyUgpdI0JBEEMD4B+4dV3pU+9Mvyl4NMTZKAV5X7cl0APC5P127BqBNqBwuJ5Gw2G8NbmDIGEcQR+9/u6pAcg0ZYtiRaXCDT75rHnT0bjF0dZgJkLP3VEDVEakcj58ti7MBJOWrPFUHJurUuaGbCVCd5llBdQ4Yw7GnUaM9Fal4JjptJCGGmQA964upnPBXHCYOTSciDMGcp1qnYpzBBXVu6LEEGHxOByViJURJX7m2+W+qmKax3cn4Kk/qdJgnnXOdHXIupZnA/B1jw5TP+wzgngSpLEhX6ahLy/dKm5Su7WODBK4l/I60JZPkJ0DcuvxPLvxr5ZjXUAL45crchxD00A12OR3apTyv/67E7CQerndOztwto9uymPI1N2RwOcMwgBYorigah5qBsN36WVtCCZI9kqqu8Td0DG2mhlJKdb8JGvQOrV86YMevPDZagjpuQoFLqPY3gDtOjawvH7TjZpRAZeelesHwON3jQtUJtej2kdalu1RbZZe/QSB0U6L5ph0AObB9wy0Vn5m2qJI2geWd19yI09eo8SywLjbmdMgaRjZ4+gx9RffV13BGD1BXNV5kCYMzrW641dOvAnGnVgVMHYLUPu2DGxxk4iPJFeFwfbLgL7lcfCi5UqZNgK7WIkm2k4AxHARLyaUSJuBpE6AtBuwCmzaAGM5Tc6neMW7UQdoEcnOdv9Cpv24GjFNAAPCvpalwTuFP1J5vy7kqqRtGOGjfqDZDT5vAQNPbzzTgzQmOAWZotXe4xXNeOj3T9OYTjUMzHU1Le4YQImwdaimndh8/0t4CSV/T83fR1PRUI9W8lALc4jla3x/ryv6UuCqrvh+bp+t6IwL81weQn6abMqFyZnX5BDIugVyQifT52hxD7HyVAFFKb8nreVg46K354bHd2qwn0H6u9i0dI9S2scIMSN8YHHDjnmrfz6YtqmQ1gZ7xxpyJ+5MX6ROYDqplADzPAc2zs/rXv1Qk7TVUyen0iclHDbbBjYWIc3UR3mb1kdUEQGC5NYA6p1dzAp7VBKjulgakhjf+sqwNKoNOGO8i9Uxz8H6KEkzKAvzRimX1Cex+58w/9O2/nT4S4v7/jKDUyo/vrfZ1WxPI6i2Qzvf/VrtKRMJbKewSeiI3aJcn96w++53EVfkCw79XQZYr/EsAAAAASUVORK5CYII="
          // },
          {
            image: logo || getBase64Image(tenantId) || defaultLogo,
            // width: 50,
            margin: [10, 10],
            fit: [50,50],
            //width: 50,
            //margin: [10, 10]
          },
          {
            text: headerDetails?.[0]?.header, //"Amritsar Municipal Corporation",
            margin: [40, 10, 2, 4],
            style: "header",
            // italics: true, 
            fontSize: 18,
            bold: true
          },
          {
            text: headerDetails?.[0]?.typeOfApplication, //"New Sewerage Connection",
            bold: true,
            fontSize: 16,
            alignment: "right",
            margin: [-40, 10, 2, 0],
            color: "#a82227"
          }
        ],
        [
          { text: "" },
          {
            text: headerDetails?.[0]?.subHeader, //"Municipal Corporation Amritsar, Town Hall, Amritsar, Punjab.",
            margin: [40, -45, -2, -5],
            style: "header",
            // italics: true, 
            fontSize: 10,
            // bold: true
          },

          {
            text: headerDetails?.[0]?.date, //"28/03/2022",
            bold: true,
            fontSize: 16,
            margin: [0, -50, 10, 0],
            alignment: "right",
            color: "#a82227"
          }
        ],
        [
          { text: "" },

          {
            text: headerDetails?.[0]?.description, //"0183-2545155 | www.amritsarcorp.com | cmcasr@gmail.com",
            margin: [40, -40, 2, 10],
            style: "header",
            // italics: true, 
            fontSize: 10,
            // bold: true
          },
          {
            text: "",
          }
        ]
      ]
    }
  });
  headerDetails?.[0]?.values?.forEach((header, index) => {
    headerData.push({
      style: 'tableExample',
      layout: "noBorders",
      fillColor: "#f7e0d4",
      "margin": [-40, -40, -40, 20],
      table: {
        widths: ['30%', '*'],
        body: [
          [
            {
              text: header?.title,
              margin: index == 0 ? [40, 0, 2, 10] : [40, 10, 2, 10],
              style: "header",
              fontSize: 10,
              bold: true
            },
            {
              text: header?.value,
              // bold: true,
              fontSize: 10,
              alignment: "left",
              margin: index == 0 ? [0, 0, 2, 10] : [0, 10, 2, 10],
            }
          ]
        ]
      }
    })
  })

  return headerData;
}


function createContent(details, phoneNumber, breakPageLimit = null) {
  const data = [];

  details.forEach((detail, index) => {
    if (detail?.values?.length > 0) {
      let column1 = [];
      let column2 = [];

      if ( breakPageLimit ?  (index + 1) % breakPageLimit === 0 : (index + 1) % 7 === 0) {
        data.push({
          text: "",
          margin: [-25, 0, 0, 200],
        });
      }

      data.push({
        text: `${detail.title}`,
        font: "Hind",
        fontSize: 18,
        // bold: true,
        margin: [-25, 20, 0, 20],
      });

      const newArray = [];
      let count = 0;
      let arrayNumber = 0;

      detail.values.forEach((value, index) => {
        if (count <= 3) {
          if (!newArray[arrayNumber]) {
            newArray[arrayNumber] = [];
          }
          if (value) {
            newArray[arrayNumber].push(value);
          }
          count++;
        }
        if (count === 4) {
          count = 0;
          arrayNumber++;
        }
      });

      newArray.forEach((value) => {
        if (value?.length === 2) {
          createContentForDetailsWithLengthOfTwo(value, data, column1, column2, detail.values.length > 3 ? 10 : 0);
        } else if (value?.length === 1 || value?.length === 3) {
          createContentForDetailsWithLengthOfOneAndThree(value, data, column1, column2, detail.values.length > 3 ? 10 : 0);
        } else {
          value.forEach((value, index) => {
            let margin = [-25, 0, 0, 5];
            if (index === 1) margin = [15, 0, 0, 5];
            if (index === 2) margin = [26, 0, 0, 5];
            if (index === 3) margin = [30, 0, 0, 5];
            column1.push({
              text: value.title,
              font: "Hind",
              fontSize: 11,
              // bold: true,
              margin,
            });
            if (index === 1) margin = [15, 0, 0, 10];
            if (index === 2) margin = [26, 0, 0, 10];
            if (index === 3) margin = [30, 0, 0, 10];
            column2.push({
              text: value.value,
              font: "Hind",
              fontSize: 9,
              margin,
              color: "#1a1a1a",
              width: "25%",
            });
          });
          data.push({ columns: column1 });
          data.push({ columns: column2 });
          column1 = [];
          column2 = [];
        }
      });
    }
  });

  return data;
}

function createContentForDetailsWithLengthOfTwo(values, data, column1, column2, num = 0) {
  values.forEach((value, index) => {
    if (index === 0) {
      column1.push({
        text: value.title,
        font: "Hind",
        fontSize: 12,
        // bold: true,
        margin: [-25, num - 10, -25, 0],
      });
      column2.push({
        text: value.value,
        font: "Hind",
        fontSize: 9,
        margin: [-25, 5, 0, 0],
        color: "#1a1a1a",
        width: "25%",
      });
    } else {
      column1.push({
        text: value.title,
        font: "Hind",
        fontSize: 12,
        // bold: true,
        margin: [-115, num - 10, -115, 0],
      });
      column2.push({
        text: value.value,
        font: "Hind",
        fontSize: 9,
        margin: [15, 5, 0, 0],
        color: "#1a1a1a",
        width: "25%",
      });
    }
  });
  data.push({ columns: column1 });
  data.push({ columns: column2 });
}

function createContentForDetailsWithLengthOfOneAndThree(values, data, column1, column2, num = 0) {
  values.forEach((value, index) => {
    if (index === 0) {
      column1.push({
        text: value.title,
        font: "Hind",
        fontSize: 12,
        // bold: true,
        margin: values.length > 1 ? [-25, -5, 0, 0] : [-25, 0, 0, 0],
      });
      column2.push({
        text: value.value,
        font: "Hind",
        fontSize: 9,
        color: "#1a1a1a",
        margin: values.length > 1 ? [-25, 5, 0, 0] : [-25, 5, 0, 0],
        width: "25%",
      });
    } else if (index === 2) {
      column1.push({
        text: value.title,
        font: "Hind",
        fontSize: 12,
        // bold: true,
        margin: [-60, -5, 0, 0],
      });
      column2.push({
        text: value.value,
        font: "Hind",
        fontSize: 9,
        margin: [26, 5, 0, 0],
        color: "#1a1a1a",
        width: "25%",
      });
    } else {
      column1.push({
        text: value.title,
        font: "Hind",
        fontSize: 12,
        // bold: true,
        margin: [-28, -5, 0, 0],
      });
      column2.push({
        text: value.value,
        font: "Hind",
        fontSize: 9,
        margin: [15, 5, 0, 0],
        color: "#1a1a1a",
        width: "25%",
      });
    }
  });
  data.push({ columns: column1 });
  data.push({ columns: column2 });
}

// EXAMPLE
// <button
//   onClick={() =>
//     Digit.Utils.pdf.generate({
//       logo:
//         "data:image/jpeg;base64,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",
//       name: "Berhampur Municipal Council",
//       email: "care@berhampur.gov.in",
//       phoneNumber: "080-454234",
//       heading: "Desludging request - Acknowledgement",
//       details: [
//         {
//           title: "Application Details",
//           values: [
//             { title: "Application No.", value: "FSM-277373" },
//             { title: "Application Date", value: "12/08/2020" },
//             { title: "Application Channel", value: "Counter" },
//           ],
//         },
//         {
//           title: "Applicant Details",
//           values: [
//             { title: "Applicant Name", value: "Satinder Pal Singh" },
//             { title: "Mobile No.", value: "2272773737" },
//           ],
//         },
//         {
//           title: "Property Details",
//           values: [
//             { title: "Property Type", value: "Commercial" },
//             { title: "Property Sub Type", value: "Mail" },
//           ],
//         },
//         {
//           title: "Property Location Details",
//           values: [
//             { title: "Pincode", value: "234678" },
//             { title: "City", value: "Berhampur" },
//             { title: "Mohall", value: "Alakapuri" },
//             { title: "Street", value: "Alakapuri Street" },
//             { title: "Building No.", value: "707/B" },
//             { title: "Landmark", value: "Behind SBI bank" },
//           ],
//         },
//         {
//           title: "Pit/Septic Tank Details",
//           values: [
//             { title: "Dimension", value: "2m x 2m x 3m" },
//             { title: "Distance from Road", value: "500m" },
//             { title: "No. of Trips", value: "1" },
//             { title: "Amount per Trip", value: "₹ 1000.00" },
//             { title: "Total Amount Due", value: "₹ 1000.00" },
//           ],
//         },
//       ],
//     })
//   }
// >
//   Download PDF
// </button>,

const downloadPdf = (blob, fileName) => {
  if (window.mSewaApp && window.mSewaApp.isMsewaApp() && window.mSewaApp.downloadBase64File) {
    var reader = new FileReader();
    reader.readAsDataURL(blob);
    reader.onloadend = function () {
      var base64data = reader.result;
      window.mSewaApp.downloadBase64File(base64data, fileName);
    };
  } else {
    const link = document.createElement("a");
    // create a blobURI pointing to our Blob
    link.href = URL.createObjectURL(blob);
    link.download = fileName;
    // some browser needs the anchor to be in the doc
    document.body.append(link);
    link.click();
    link.remove();
    // in case the Blob uses a lot of memory
    setTimeout(() => URL.revokeObjectURL(link.href), 7000);
  }
};

/* Download Receipts */

export const downloadReceipt = async (
  consumerCode,
  businessService,
  pdfKey = "consolidatedreceipt",
  tenantId = Digit.ULBService.getCurrentTenantId(),
  receiptNumber = null
) => {
  const response = await Digit.ReceiptsService.receipt_download(businessService, consumerCode, tenantId, pdfKey, receiptNumber);
  const responseStatus = parseInt(response.status, 10);
  if (responseStatus === 201 || responseStatus === 200) {
    let filename = receiptNumber ? `receiptNumber-${receiptNumber}.pdf` : `consumer-${consumerCode}.pdf`;
    downloadPdf(new Blob([response.data], { type: "application/pdf" }), filename);
  }
};
/* Download Bills */

export const downloadBill = async (
  consumerCode,
  businessService,
  pdfKey = "consolidatedbill",
  tenantId = Digit.ULBService.getCurrentTenantId(),
) => {
  const response = await Digit.ReceiptsService.bill_download(businessService, consumerCode, tenantId, pdfKey);
  const responseStatus = parseInt(response.status, 10);
  if (responseStatus === 201 || responseStatus === 200) {
    let filename = consumerCode ? `consumerCode-${consumerCode}.pdf` : `consumer-${consumerCode}.pdf`;
    downloadPdf(new Blob([response.data], { type: "application/pdf" }), filename);
  }
};

export const getFileUrl = (linkText = "") => {
  const linkList = (linkText && typeof linkText == "string" && linkText.split(",")) || [];
  let fileURL = "";
  linkList &&
    linkList.map((link) => {
      if (!link.includes("large") && !link.includes("medium") && !link.includes("small")) {
        fileURL = link;
      }
    });
  return fileURL;
};

/* Use this util function to download the file from any s3 links */
export const downloadPDFFromLink = async (link, openIn = "_blank") => {
  var response = await fetch(link, {
    responseType: "arraybuffer",
    headers: {
      "Content-Type": "application/json",
      Accept: "application/pdf",
    },
    method: "GET",
    mode: "cors",
  }).then((res) => res.blob());
  if (window.mSewaApp && window.mSewaApp.isMsewaApp() && window.mSewaApp.downloadBase64File) {
    var reader = new FileReader();
    reader.readAsDataURL(response);
    reader.onloadend = function () {
      var base64data = reader.result;
      window.mSewaApp.downloadBase64File(base64data, decodeURIComponent(link.split("?")[0].split("/").pop().slice(13)));
    };
  } else {
    var a = document.createElement("a");
    document.body.appendChild(a);
    a.style = "display: none";
    let url = window.URL.createObjectURL(response);
    a.href = url;
    a.download = decodeURIComponent(link.split("?")[0].split("/").pop().slice(13));
    a.click();
    window.URL.revokeObjectURL(url);
  }
};
